---
import "../styles/global.css";
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import Accordion from "../components/runningclub/Accordion.astro";
import RunningClubCard from "../components/runningclub/RunningClubCard.astro";
import RunningImage from "../assets/img/running-img.webp";
import CoffeeCupIllustration from "../assets/illustrations/blue/kaer-coffecup.webp";
import LemonPiecesIllustration from "../assets/illustrations/blue/lemon-pieces.webp";

// Fetch events fra vores API
const events = await fetch( new URL("/api/clubevents" , Astro.url))
  .then((res) => res.json())
  .catch(() => []);

const faqItems = [
  {
    question: "Hvor mødes vi?",
    answer: "Vi mødes ved Kær Kaffebar, Valby Lannggade 86C, 2500 Valby.",
  },
  {
    question: "Hvad gør jeg, hvis jeg ikke kan komme alligevel?",
    answer:
      "Hvis du efter tilmelding finder ud af, at du ikke kan komme alligevel, så skriv til nummeret: 81610900 mindst 24 timer inden, så vi ved, hvor mange vi skal regne med.",
  },
  {
    question: "Får man gratis kaffe?",
    answer:
      "Nej vi giver desværre ikke gratis kaffe, men vi giver et ingefærshot og super hyggelig stemning. Kaffebaren er selvfølgelig åben, så man er mere end velkommen til at nyde mad eller drikkevarer udenfor ved vores café borde eller inden i vores hyggelig lokale.",
  },
];

console.log(events);

---

<Layout title="Kær løbeklub">
  <main class="grid gap-negative mb-negative">
    <section class="pl-default pr-default relative">
      <Image
        src={CoffeeCupIllustration}
        alt="kaffekop illustration"
        class="absolute w-[130px] right-1 top-1 z-[-10]"
      />
      <div>
        <h1 class="text-header-1 font-header text-neutral-1">Kær løbeklub</h1>
        <h3 class="text-neutral-1 text-header-3">
          Kær Klubben’s løbeklub i Valby har <strong
            >fokus på det sociale og på at samle lokalsamfundet</strong
          >, samtidig med at vi bevæger os. <strong
            >Ruten i søndermarken er 2,5 km, så alle kan være med.</strong
          >  Er man hurtig, kan man nå den 2 gange!
        </h3>
      </div>
    </section>
    <section class="pl-default pr-default">
      <div class="grid gap-default">
        <h2 class="text-neutral-1 text-header-2">Kommende ture</h2>
        {
          events.length === 0 ? (
            <p class="text-neutral-1 text-label">Ingen kommende ture</p>
          ) : (
            events.map((event) => <RunningClubCard event={event} />)
          )
        }
        <p class="text-neutral-1">
          <strong
            >OBS: ved afmeldning skriv til nummeret: 81610900 mindst 24 timer
            inden.</strong
          >
        </p>
      </div>
      <div
        class="grid justify-items-center"
        style="padding: var(--spacing-default);"
      >
        <h1 class="font-header text-header-1">FAQ</h1>
        <Accordion items={faqItems} />
      </div>
    </section>
    <section class="grid gap-large pl-default pr-default">
      <div class="h-[140px] overflow-hidden rounded-full">
        <Image
          src={RunningImage}
          alt="løbe billede"
          class="object-cover w-full h-full object-bottom"
        />
      </div>
      <div class="relative h-[250px]">
        <h2 class="text-accent text-header-2 leading-header-2 text-center">
          Hos Kær Kaffebar handler det ikke kun om tempo, men om fællesskab og
          lokale bånd.
        </h2>
        <Image
          src={LemonPiecesIllustration}
          alt="illustration af citroner"
          class="absolute bottom-0 right-0 z-[-10]"
        />
      </div>
    </section>
  </main>
</Layout>
